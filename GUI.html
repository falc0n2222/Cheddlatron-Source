
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cheddlatron</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/nano.min.css"/>
    <style>
        body {
            margin: 0;
            border-radius: 8px;
            font-family:  sans-serif;
            background-color: #13171B;
            overflow: hidden;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        body.loaded {
            opacity: 1;
            overflow: auto;
        }
        #loading {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #13171B;
            color: white;
            font-family:  sans-serif;
            z-index: 1000;
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }
        body.loaded #loading {
            opacity: 0;
            pointer-events: none;
        }
        #loading-text {
            font-size: 24px;
        }
        .display {
            background-color: #0E1013;
            position: fixed;
            overflow: auto;
            border-radius: 8px;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        body.loaded .display {
            opacity: 1;
        }

        .settingdisplay {
            background-color: #0E1013;
            position: fixed;
            overflow: auto;
            border-radius: 8px;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        body.loaded .settingdisplay {
            opacity: 1;
        }

        .sidebar {
            background-color: #0E1013;
            width: 21.5vh;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: fixed;
            padding: 10px 0;
        }
        .sidebar-content-top, .sidebar-content-bottom {
            display: flex;
            flex-direction: column;
        }
        .sidebar ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
            width: 100%;
        }

        .sidebar li {
            margin-bottom: 5px;
            background-color: #0E1013;
            border-radius: 8px;
            width: calc(100% - 10px);
            margin-left: 5px;
            margin-right: 5px;
            transition: background-color 0.5s, color 0.5s; 
        }

        .sidebar li:hover {
            background-color: #171B20; 
        }

        .sidebar li.selected {
            background-color: #20262E; 
            transition: background-color 0.5s, color 0.5s; 
        }

        .sidebar a {
            font-family:  sans-serif;
            font-weight: bold;
            color: white;
            text-align: left;
            text-decoration: none;
            width: calc(100% - 10px);
            padding: 5px;
            box-sizing: border-box;
            display: flex;
            align-items: center;
        }

        .settingbar {
            position: absolute;
            top: 1px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #13171B;
            width: calc(100% - 2px);
            height: 7vh;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            border-radius: 8px 8px 0px 0px;
            align-items: center;
        }

        .settingbar ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row;
            width: 100%;
            align-items: center;
        }

        .settingbar li {
            margin-bottom: 5px;
            background-color: #0E1013;
            border-radius: 8px;
            margin-left: 5px;
            margin-right: 5px;
            height: 50%;
            transition: background-color 0.5s, color 0.5s;
            flex: 1;
        }

        .settingbar li:hover {
            background-color: #171B20;
        }

        .settingbar li.selected {
            background-color: #20262E;
            transition: background-color 0.5s, color 0.5s;
        }

        .settingbar a {
            font-family:  sans-serif;
            font-weight: bold;
            color: white;
            text-align: center;
            text-decoration: none;
            height: 100%;
            width: auto;
            padding: 5px;
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .settingcontent {
            display: none;
            padding: 20px;
            color: white;
            font-family:  sans-serif;
            position: relative;
        }

        .settingcontent.show {
            display: block;
        }

        .content {
            display: none;
            padding: 20px;
            color: white;
            font-family:  sans-serif;
            position: relative;
        }
        .content.show {
            display: block;
        }
        .pywebview-drag-region {
            position: fixed;
            width: 100%;
            height: 20px;
            background-color: rgba(0, 0, 0, 0);
            z-index: 1;
        }
        .control-buttons {
            display: flex;
            padding-left: 5px;
            align-items: center;
        }
        .control-buttons button {
            width: 15px;
            height: 15px;
            border-radius: 100%;
            border: none;
            cursor: pointer;
            outline: none;
            margin-right: 5px;
            margin-top: 5px;
        }
        .control-buttons .close-btn {
            background-color: #FF5F57;
        }
        .control-buttons .minimize-btn {
            background-color: #FFBD2E;
        }
        .control-buttons .fullscreen-btn {
            background-color: #28C940;
        }
        .control-buttons button:hover {
            opacity: 0.8;
        }
        .logo {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }
        .logo img {
            width: 80%;
            height: auto;
        }
        .ppagepfp-container {
            display: flex;
            align-items: center;
        }
        .ppagepfp {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            position: relative;
        }
        .ppagepfp img {
            position: absolute;
            max-width: 100%;
            max-height: 100%;
            min-width: 100%;
            min-height: 100%;
            border-radius: 50%;
        }
        .profile-text {
            margin-left: 10px;
            color: white;
            max-width: calc(100% - 220px);
        }
        .profile-text h2, .profile-text p {
            margin: 0;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 100%;
        }
        .profile-text h2 {
            font-family:  sans-serif;
            font-weight: bold;
        }
        .profile-text p {
            font-family:  sans-serif;
            font-weight: lighter;
        }
        .badgebox {
            background-color: #13171B;
            border-radius: 8px;
            height: 50px;
            display: inline-flex;
            align-items: center;
            width: fit-content;
            padding: 0 2.5px;
            margin-top: 10px;
        }
        .badgebox img {
            width: 30px;
            height: 30px;
            align-self: center;
        }
        .biobox {
            width: calc(100% - 40px);
            height: 100px;
            margin: 20px;
            background-color: #13171B;
            border-radius: 8px;
            padding: 12.5px;
            overflow: auto;
            box-sizing: border-box;
            scrollbar-width: none;
        }
        .biobox div {
            white-space: pre-wrap;
        }
        .semicirclecontainer {
            margin-left: 20px;
            margin-right: 20px;
            margin-top: 50px;
            width: calc(100% - 40px);
            display: flex;
            justify-content: space-between;
            position: relative;
        }

        @keyframes progress {
            0% { --percentage: 0; }
            100% { --percentage: var(--value); }
        }

        @property --percentage {
            syntax: '<number>';
            inherits: true;
            initial-value: 0;
        }

        [role="progressbar"] {
            --percentage: var(--value);
            --primary: #AB3939;
            --secondary: #13171B;
            --size: 300px;
            animation: progress 2s forwards;
            width: var(--size);
            aspect-ratio: 2 / 1;
            border-radius: 50% / 100% 100% 0 0;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: flex-end;
            justify-content: center;
        }

        [role="progressbar"]::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: conic-gradient(from 0.75turn at 50% 100%, var(--primary) calc(var(--percentage) * 1% / 2), var(--secondary) calc(var(--percentage) * 1% / 2 + 0.1%));
            mask: radial-gradient(at 50% 100%, white 55%, transparent 55.5%);
            mask-mode: alpha;
            -webkit-mask: radial-gradient(at 50% 100%, #0000 55%, #000 55.5%);
            -webkit-mask-mode: alpha;
        }

        [role="progressbar"]::after {
            counter-reset: percentage var(--value);
            font-family:  sans-serif;
            font-weight: lighter;
            font-size: calc(var(--size) / 5);
            color: var(--primary);
        }

        .progress-content {
            text-align: center;
            display: flex;
            flex-direction: column;
        }

        .progress-content .semicirclenum {
            font-size: 48px;
            color: white;
            align-self: center;
        }

        .progress-content p {
            font-size: 26px;
            margin-top: 5px;
            color: white;
            margin-bottom: -1px;
            align-self: center;
        }

        .console {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            max-width: 100%;
            height: 97vh;
            padding: 5px;
            background-color: black;
            border-radius: 8px;
            font-family: 'Consolas', sans-serif;
            font-weight: lighter;
            font-size: 16px;
            overflow: auto;
            box-sizing: border-box;
            scrollbar-width: none;
            color: white;
            white-space: pre-wrap;
            word-wrap: break-word;
            user-select: text;
        }

        .console .line {
            display: block;
            width: 100%;
            text-align: center;
            white-space: pre-wrap;
        }

        .infocontainer {
            width: 100%;
            height: 100%;
            align-self: center;
            display: grid;
            grid-template-columns: 2fr 1fr;
            grid-gap: 10px;
        }

        .info-box-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 10px;
        }

        .info-box {
            background-color: #13171B;
            box-sizing: border-box;
            min-height: 193.5px;
            border-radius: 8px;
        }

        .info-box h2 {
            font-family:  sans-serif;
            font-weight: bold;
            text-align: center;
        }

        .info-box p {
            font-family:  sans-serif;
            font-weight: lighter;
            text-align: center;
            margin: 10px;
            word-break:normal ;
            overflow: auto;
            scrollbar-width: none;
        }

        .info-box button {
            border-radius: 8px;
            background-color: #13171B;
            color: white;
            box-shadow: none;
            background: none;
            border: 0;
        }

        .info-box button:hover {
            background-color: #2e2e2e;
        }

        .credit-box {
            background-color: #13171B;
            box-sizing: border-box;
            border-radius: 8px;
        }

        .credit-box h2 {
            font-family:  sans-serif;
            font-weight: bold;
            text-align: center;
            font-size: 27px;
        }

        .tooltip {
            position: relative;
            text-align: center;
            font-size: 27px;
            font-family:  sans-serif;
            font-weight: lighter;
            margin: 10px;
            z-index: 500;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            font-family:  sans-serif;
            font-weight: lighter;
            text-align: center;
            margin: 10px;
            padding: 5px;
            min-width: 175px;
            word-break:normal ;
            scrollbar-width: none;
            position: absolute;
            z-index: 1;
            background-color: #0E1013;
            border-left: 2px solid white;
            font-size: 16px;
            bottom: 75%;
            left: 50%;
            margin-left: -120px;
            opacity: 0;
            transition: opacity 0.3s, visibility 0.3s;
            pointer-events: none;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
        }

        .settingholder {
            border-radius: 8px;
            border: 2px solid white;
            background: rgba(0, 0, 0, 0);
            width: 100%;
            height: 83.4vh;
            margin-top: 46px;
            display: grid;
            grid-template-columns: 2 1fr;
            grid-gap: 10px;
            scrollbar-width: none;
        }

        .settingbox-container {
            display: grid;
            grid-template-columns: repeat(2, minmax(200px, 1fr));
            gap: 10px;
            padding: 10px;
        }

        .settingbox {
            height: 8vh;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px;
            box-sizing: border-box;
            border-radius: 8px;
            background-color: #13171B;
            font-family:  sans-serif;
            font-weight: bold;
            color: white;
        }

        .settingbox ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row;
            width: 50%;
            align-items: center !important;
            }

        .settingbox li {
            margin-bottom: 5px;
            background-color: #0E1013;
            border-radius: 8px;
            margin-left: 5px;
            margin-right: 5px;
            height: 50%;
            transition: background-color 0.5s, color 0.5s;
            flex: 1;
        }

        .settingbox li:hover {
            background-color: #171B20;
        }

        .settingbox a {
            font-family:  sans-serif;
            font-weight: bold;
            color: white;
            text-align: center;
            text-decoration: none;
            height: 100%;
            width: auto;
            padding: 5px;
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .settingbox span {
            flex-grow: 1;
        }

        .setting-icon {
            width: 25px;
            height: 25px;
            object-fit: contain;
            object-position: center;
            display: block;
            margin: 0 auto;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
            }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
        }

        input:checked + .slider {
            background-color: #C05C5C;
        }

        input:focus + .slider {
            box-shadow: 0 0 1px #C05C5C;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }

        .input-container {
            margin-top: 10px;
            position: relative;
            overflow-x: auto;
            overflow-y: hidden;
            width: 100%;
        }

        #characterInput {
            width: 100%; 
            height: 34px;
            padding: 5px; 
            font-size: 14px;
            line-height: 24px;
            outline: none;
            background-color: #0E1013;
            border-radius: 16px;
            box-sizing: border-box;
            resize: none;
            overflow: hidden;
            font-family:  sans-serif;
            font-weight: lighter;
            border-width: 1px;
            border-color: white;
            color: white;
            white-space: nowrap;
            overflow-x: auto;
            text-indent: 10px;
            -ms-overflow-style: none; 
            scrollbar-width: none;
            display: flex;
            align-items: center;
        }

        #characterInput::-webkit-scrollbar {
            display: none;
        }

        #EmbedPreviewInput {
            width: 100%; 
            height: 34px;
            padding: 5px; 
            font-size: 14px;
            line-height: 24px;
            outline: none;
            background-color: #0E1013;
            border-radius: 16px;
            box-sizing: border-box;
            resize: none;
            overflow: hidden;
            font-family:  sans-serif;
            font-weight: lighter;
            border-width: 1px;
            border-color: white;
            color: white;
            white-space: nowrap;
            overflow-x: auto;
            text-indent: 10px;
            -ms-overflow-style: none; 
            scrollbar-width: none;
            display: flex;
            align-items: center;
        }

        #EmbedPreviewInput::-webkit-scrollbar {
            display: none;
        }

        #EmbedmodalInput {
            width: 40%; 
            height: 34px;
            padding: 5px; 
            font-size: 14px;
            line-height: 24px;
            outline: none;
            background-color: #0E1013;
            border-radius: 16px;
            box-sizing: border-box;
            resize: none;
            overflow: hidden;
            font-family:  sans-serif;
            font-weight: lighter;
            border-width: 1px;
            border-color: white(255, 0, 0);
            color: white;
            white-space: nowrap;
            overflow-x: auto;
            text-indent: 10px;
            -ms-overflow-style: none; 
            scrollbar-width: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        #EmbedmodalInput::-webkit-scrollbar {
            display: none;
        }

        .blurred {
            filter: blur(4px);
            opacity: 0.8;
        }

        .settingbox select {
            width: 40%;
            padding: 8px;
            font-family:  sans-serif;
            background-color: #0E1013;
            border-width: 1px;
            border-color: white;
            border-radius: 16px;
            color: white;
        }

        .ethemebtn {
            margin-bottom: 5px;
            background-color: #0E1013;
            border-radius: 8px;
            margin-left: 5px;
            margin-right: 5px;
            height: 50%;
            transition: background-color 0.5s, color 0.5s;
            flex: 1;
        }

        .ethemebtn:hover {
            background-color: #171B20;
        }

        .settingbox select.open {
            position: absolute;
            appearance: none;
            z-index: 1000;
            background-color: #0E1013;
            padding: 8px;
        }

        .settingbox select.open:not(:first-child) {
            display: none;
        }

        .settingbox select.open:first-child {
            display: block;
        }

        .embedsettingholder {
            background-color: #13171B;
            border-radius: 8px;
            width: 100%;
        }

        .embedpreview {
            margin-top: 0;
            width: 91%;
            background-color: #2C2D31;
            border-radius: 8px;
            border-left: 5px solid white;
            max-height: 69vh;
            padding-left: 16px;
            padding-right: 16px;
            padding-bottom: 16px;
            padding-top: 8px;
        }

        .embedpreview img {
            width: 80px; 
            height: 80px;
            float: right;
            margin-left: 16px;
            z-index: 1;
        }

        .embedpreview h2,
        .embedpreview p {
            color: #FFFFFF;
            display: flex;
        }

        .embedpreview p {
            margin-bottom: 4px;
        }

        .pcr-app[data-theme="nano"] {
            background-color: #13171B !important;
            border: 2px solid white !important;
            border-radius: 8px !important;
        }

        .pcr-interaction input {
            background-color: #0E1013 !important;
            border: 1px solid white !important;
            border-radius: 8px !important;
        }

        .pcr-interaction input:focus {
            box-shadow: none !important;
        }

        .pickr .pcr-button {
            outline: 1px solid white !important;
            border: 1px solid white !important;
        }

        .pickr .pcr-button:focus {
            box-shadow: none !important;
        }

        .url-underlined:hover {
            text-decoration: underline;
        }

        .modalbg {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
            pointer-events: none;
        }

        .createthememodal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #0E1013;
            border: 1px solid white;
            border-radius: 8px;
            z-index: 1001;
            height: 60%;
            width: 60%;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
            pointer-events: none;
        }

        .createthememodal.visible {
            opacity: 1;
            pointer-events: all;
        }

        .modalbg.visible {
            opacity: 1;
            pointer-events: all;
        }


        .createthememodal li {
            margin-bottom: 5px;
            background-color: #0E1013;
            border-radius: 8px;
            width: calc(500% - 10px);
            margin-left: 5px;
            margin-right: 5px;
            transition: background-color 0.5s, color 0.5s; 
            border: 1px solid white;
        }

        .createthememodal li:hover {
            background-color: #171B20; 
        }

        .createthememodal li.selected {
            background-color: #20262E; 
            transition: background-color 0.5s, color 0.5s; 
        }

        .createthememodal ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row;
            width: 50%;
            align-items: center !important;
            position: absolute;
            top: 65%;
            left: 50%;
            transform: translate(-50%, -50%);
            }

        .createthememodal a {
            font-family:  sans-serif;
            font-weight: bold;
            color: white;
            text-align: center;
            text-decoration: none;
            height: 100%;
            width: auto;
            padding: 5px;
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .createthememodal span {
            font-family: sans-serif;
            font-weight: bold;
            color: white;
            text-decoration: none;
            font-size: 24px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20%;
        }
    </style>
</head>
<body>
    <div id="loading"></div>
    <div class="pywebview-drag-region">
        <div class="control-buttons">
            <button class="close-btn" onclick="closeWindow()"></button>
            <button class="minimize-btn" onclick="minimizeWindow()"></button>
            <button class="fullscreen-btn" onclick="fullscreenWindow()"></button>
        </div>
    </div>
    <nav class="sidebar">
        <div>
            <div class="logo">
                <img src="https://falc0n.gay/Cheddlatron.png" alt="Logo">
            </div>
            <div class="sidebar-content-top">
                <ul>
                    <li onclick="toggleContent('content1', this), resizeBadgeBox()" class="selected"><a><img src="https://falc0n.gay/account.png" alt="console img" style="width: auto; height: 20px; margin-right: 5px;">Account</a></li>
                    <li onclick="toggleContent('content2', this)"><a><img src="https://falc0n.gay/terminal.png" alt="console img" style="width: auto; height: 20px; margin-right: 5px;">Console</a></li>
                    <li onclick="toggleContent('content3', this)"><a><img src="https://falc0n.gay/rpc.png" alt="console img" style="width: auto; height: 20px; margin-right: 5px;">RPC</a></li>
                    <li onclick="toggleContent('content4', this)"><a><img src="https://falc0n.gay/cmds.png" alt="console img" style="width: auto; height: 20px; margin-right: 5px;">Commands</a></li>
                </ul>
            </div>
        </div>
        <div class="sidebar-content-bottom">
            <ul>
                <li onclick="toggleContent('content5', this)"><a><img src="https://falc0n.gay/info.png" alt="console img" style="width: auto; height: 20px; margin-right: 5px;">Info</a></li>
            </ul>
            <ul style="margin-top: auto; margin-bottom: 10px;">
                <li onclick="toggleContent('content6', this)"><a><img src="https://falc0n.gay/config.png" alt="console img" style="width: auto; height: 20px; margin-right: 5px;">Config</a></li>
            </ul>
        </div>
    </nav>
    <div class="display" id="display">
        <div id="content1" class="content show">
            <div class="ppagepfp-container">
                <div class="ppagepfp"><img src="" id="pfp"></div>
                <div class="profile-text">
                    <h2 style="font-size:27px;">Global Username</h2>
                    <p style="font-size:27px;">Additional Information</p>
                    <div class="badgebox" id="badgebox"></div>
                </div>
            </div>
            <div class="biobox" id="biobox"></div>
            <div class="semicirclecontainer">
                <div role="progressbar" id="friendbar" aria-valuemin="0" aria-valuemax="1000" style="--value: ">
                    <div class="progress-content">
                        <div class="semicirclenum" id="friendnum">100</div>
                        <p>Friends</p>  
                    </div>
                </div>
                <div role="progressbar" id="guildbar" aria-valuemin="0" aria-valuemax="100" style="--value: ">
                    <div class="progress-content">
                        <div class="semicirclenum" id="guildnum">100</div>
                        <p>Guilds</p>
                    </div>
                </div>
            </div>
        </div>
        <div id="content2" class="content">
            <div class="console" id="app-console"></div>   
        </div>
        <div id="content3" class="content">
        </div>
        <div id="content4" class="content">
        </div>
        <div id="content5" class="content">
            <div class="infocontainer">
                <div class="info-box-container">
                    <div class="info-box"><h2 style="font-size:27px;">Command Count</h2><p id="cmdcount" style="font-size: 27px;">000</p></div>
                    <div class="info-box"><h2 style="font-size:27px;">Version</h2><p id="ver" style="font-size: 27px;">1.00</p></div>
                    <div class="info-box"><h2 style="font-size:27px;">About Us</h2><p style="font-size: 12px;">idfk what to put here yet</p></div>
                    <div class="info-box"><h2 style="font-size:27px;">Donate</h2><p style="font-size: 12px;">Please note that while donations are not expected, they are greatly appreciated and help with the upkeep of the bot. If you would like to donate, please click the button below!</p><button style="display: block; margin: auto;" onclick="pywebview.api.open_link('https://Cheddlatron.com/donate')">Click Here</button></div>
                    <div class="info-box"><h2 style="font-size:27px;">Website</h2><p style="font-size: 12px;">If you would like to see some user reviews, access our documentation or explore our website, please click the button below!</p><br><button style="display: block; margin: auto;" onclick="pywebview.api.open_link('https://Cheddlatron.com')">Our Website!</button></div>
                    <div class="info-box"><h2 style="font-size:27px;">Discord</h2><p style="font-size: 12px;">If you are in need of additional support, want to make any suggestions or would like to stay updated on development, feel free to join our Discord server!</p><button style="display: block; margin: auto;" onclick="pywebview.api.open_link('discord://-/invite/Cheddlatron')">Join the Discord!</button></div>
                </div>
                <div class="credit-box">
                    <h2>Credits</h2>
                    <div class="tooltip">Wraith
                        <span class="tooltiptext">Main developer of Cheddlatron</span>
                    </div>
                    <div class="tooltip">Cheddlar
                        <span class="tooltiptext">Main developer of Cheddlatron</span>  
                    </div>
                    <div class="tooltip">Linguini
                        <span class="tooltiptext">Retired developer of Cheddlatron</span>    
                    </div>
                    <div class="tooltip">EinWortspiel
                        <span class="tooltiptext">Retired developer of Cheddlatron</span>    
                    </div>
                    <div class="tooltip">Lightning
                        <span class="tooltiptext">Helping to setup an EmbedAPI in golang for our Web Embed mode</span>    
                    </div>
                    <div class="tooltip">EinTim
                        <span class="tooltiptext">Providing reversed GPT 4 code for gpt command</span>    
                    </div>
                    <div class="tooltip">Drifter
                        <span class="tooltiptext">Creating Cheddlatron.com and continued website upkeep</span>    
                    </div>
                    <div class="tooltip">Desync
                        <span class="tooltiptext">General bug testing allowing us to fix major bugs</span>    
                    </div>
                    <div class="tooltip">Koshak
                        <span class="tooltiptext">General bug testing allowing us to fix major bugs</span>    
                    </div>
                    <div class="tooltip">Sn!pped
                        <span class="tooltiptext">General bug testing allowing us to fix major bugs</span>    
                    </div>
                </div>
            </div>
        </div>
        <div id="content6" class="content">
            <div class="settingbar">
                <ul>
                    <li onclick="toggleSettings('settings1', this)" class="selected"><a>General</a></li>
                    <li onclick="toggleSettings('settings2', this)"><a>Embed Editor</a></li>
                    <li onclick="toggleSettings('settings3', this)"><a>Snipers</a></li>
                    <li onclick="toggleSettings('settings4', this)"><a>Loggers</a></li>
                    <li onclick="toggleSettings('settings5', this)"><a>Webhooks</a></li>
                </ul>
            </div>
            <div class="settingholder" id="settingdisplay">
                <div id="settings1" class="settingcontent show">
                    <div class="settingbox-container">
                        <div class="settingbox" id="token">
                            <span>Token</span>
                            <div class="character-count-container">
                                <textarea class="no-newline" id="characterInput" maxlength="100" placeholder="Enter token here..." spellcheck="false"></textarea>
                            </div>    
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">This is the discord token the bot logs in with. (Restart for effect)</span> 
                            </div>
                        </div>
                        <div class="settingbox" id="prefix">
                            <span>Prefix</span>
                            <div class="character-count-container">
                                <textarea class="no-newline" id="characterInput" maxlength="50" placeholder="Enter prefix here..." spellcheck="false"></textarea>
                            </div>    
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">This is the character(s) you will need to enter before invoking a command.</span> 
                            </div>
                        </div>
                        <div class="settingbox" id="delete_timer">
                            <span>Delete Timer</span>
                            <div class="character-count-container">
                                <textarea class="no-newline" id="characterInput" maxlength="50" placeholder="Enter delete time here..." spellcheck="false"></textarea>
                            </div>    
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">This is the time the bot will take to delete its response.</span> 
                            </div>
                        </div>
                        <div class="settingbox">
                            <span>Embed Mode</span>
                            <select id="EmbedDropdown" onchange="config_edit('embed_mode', this.value)">
                                <option value="web">Web Embed</option>
                                <option value="indent">Indent Embed</option>
                                <option value="app">User App Embed</option>
                            </select>
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">This is the way bot outputs look.</span>
                            </div>
                        </div>
                        <div class="settingbox" id="afkmode">
                            <span>AFK Mode</span>
                            <label class="toggle-switch">
                                <input type="checkbox" onclick="switchtoggled(this, 'afkmode')" />
                                <span class="slider round"></span>
                            </label>
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">When on, the bot will automatically reply when pinged.</span> 
                            </div>
                        </div>
                        <div class="settingbox" id="afkmsg">
                            <span>AFK Message</span>
                            <div class="character-count-container">
                                <textarea class="no-newline" id="characterInput" maxlength="50" placeholder="Enter afk msg here..." spellcheck="false"></textarea>
                            </div>    
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">This is the message the bot will send when AFK Mode is on.</span> 
                            </div>
                        </div>
                        <div class="settingbox">
                            <span>Device</span>
                            <select id="DeviceDropdown" onchange="config_edit('device', this.value)">
                                <option value="console">Console</option>
                                <option value="desktop">Desktop</option>
                                <option value="mobile">Mobile</option>
                                <option value="web">Web</option>
                            </select>
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">This is the device the bot will appear as.</span>
                            </div>
                        </div>
                        <div class="settingbox">
                            <span>Console Theme</span>
                            <select id="CThemeDropdown"></select>
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">This is the text displayed at the top of the console.</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="settings2" class="settingcontent">
                    <div class="settingbox">
                        <ul>
                            <li onclick="saveetheme()"><a>Save Theme</a></li>
                            <li onclick="createetheme()"><a>New Theme</a></li>
                            <li onclick="setactive()"><a>Set Active</a></li>
                        </ul>
                        <select id="EThemeDropdown"></select>
                        <div class="tooltip">
                            <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                            <span class="tooltiptext">This is the theme used for your embeds.</span>
                        </div>
                    </div> 
                    <div class="modalbg" id="modallingbg"></div>  
                    <div class="createthememodal" id="thememodalling">
                        <span>New Embed Theme Creator</span>
                        <div class="character-count-container" id="newembedtextcontainer">
                            <textarea class="no-newline-embed" id="EmbedmodalInput" placeholder="Embed Theme Name Here..." spellcheck="false"></textarea>
                        </div> 
                        <ul>
                            <li onclick="closethememodal()"><a>Cancel</a></li>
                            <li onclick="createnewetheme()"><a>Create</a></li>
                        </ul>
                    </div>
                    <div class="settingbox-container">
                        <div class="embedsettingholder">
                            <div class="settingbox">
                                <span>Embed Colour</span>
                                <div class="color-picker"></div>
                            </div>
                            <div class="settingbox" id="EmbedImage">
                                <span>Embed Image URL</span>
                                <div class="character-count-container">
                                    <textarea class="no-newline" id="EmbedPreviewInput" placeholder="Image url here..." spellcheck="false"></textarea>
                                </div> 
                            </div>
                            <div class="settingbox" id="EmbedTitleUrl">
                                <span>Embed Title URL</span>
                                <div class="character-count-container">
                                    <textarea class="no-newline-embed" id="EmbedPreviewInput" placeholder="Title url here..." spellcheck="false"></textarea>
                                </div> 
                            </div>
                            <div class="settingbox" id="EmbedCMDUrl">
                                <span>Embed CMD URL</span>
                                <div class="character-count-container">
                                    <textarea class="no-newline-embed" id="EmbedPreviewInput" placeholder="CMD url here..." spellcheck="false"></textarea>
                                </div> 
                            </div>
                        </div>
                        <div class="embedpreview">
                            <img id="EMBEDIMGURL"src="" alt="Invalid URL">
                            <p id="EMBEDCMDURL">example CMD</p>
                            <h2 id="EMBEDTITLEURL">Example</h2>
                            <p>This is just example text.</p>
                            <p>This gives you an idea of how your embed will look.</p>
                            <p>use the options on the left to customise.</p>
                        </div>
                    </div> 
                </div>
                <div id="settings3" class="settingcontent">
                    <div class="settingbox-container">
                        <div class="settingbox" id="nitro_sniper">
                            <span>Nitro Sniper</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="toggleSwitch" onclick="switchtoggled(this, 'nitro_sniper')" />
                                <span class="slider round"></span>
                            </label>
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">Toggles the Discord Nitro sniper to automatically claim nitro.</span> 
                            </div>
                        </div>    
                        <div class="settingbox" id="giveaway_sniper">
                            <span>Giveaway Sniper</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="toggleSwitch" onclick="switchtoggled(this, 'giveaway_sniper')" />
                                <span class="slider round"></span>
                            </label>
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">Toggles the giveaway sniper to automatically join giveaways.</span> 
                            </div>
                        </div> 
                        <div class="settingbox" id="nitro_sniper_redeemer">
                            <span>Nitro Claimer Token</span>
                            <div class="character-count-container">
                                <textarea class="no-newline" id="characterInput" maxlength="100" placeholder="Enter token here..." spellcheck="false"></textarea>
                            </div>    
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">This is the token you want to claim your sniper nitro on.</span> 
                            </div>
                        </div>
                        <div class="settingbox" id="giveaway_delay">
                            <span>Giveaway Delay</span>
                            <div class="character-count-container">
                                <textarea class="no-newline" id="characterInput" maxlength="100" placeholder="Delay in seconds" spellcheck="false"></textarea>
                            </div>    
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">This is delay you want before entering a giveaway.</span> 
                            </div>
                        </div>
                    </div>
                </div>
                <div id="settings4" class="settingcontent">
                    <div class="settingbox-container">
                        <div class="settingbox" id="pinglogger">
                            <span>Ping Logger</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="toggleSwitch" onclick="switchtoggled(this, 'pinglogger')" />
                                <span class="slider round"></span>
                            </label>
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">Toggles whether or not pings are logged.</span> 
                            </div>
                        </div>  
                        <div class="settingbox" id="dmlogger">
                            <span>DM Logger</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="toggleSwitch" onclick="switchtoggled(this, 'dmlogger')" />
                                <span class="slider round"></span>
                            </label>
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">Toggles whether or not DMs are logged.</span> 
                            </div>
                        </div> 
                        <div class="settingbox" id="sessionlogger">
                            <span>Session Logger</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="toggleSwitch" onclick="switchtoggled(this, 'sessionlogger')" />
                                <span class="slider round"></span>
                            </label>
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">Toggles whether or not new sessions are logged.</span> 
                            </div>
                        </div>
                    </div>   
                </div>
                <div id="settings5" class="settingcontent">
                    <div class="settingbox-container">
                        <div class="settingbox" id="webhooknotifs">
                            <span>Webhook Notifications</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="toggleSwitch" onclick="switchtoggled(this, 'webhooknotifs')" />
                                <span class="slider round"></span>
                            </label>
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">Toggles whether or not logs are sent to webhooks.</span> 
                            </div>
                        </div> 
                        <div class="settingbox" id="dmlogger_webhook_url">
                            <span>DM Logger Webhook</span>
                            <div class="character-count-container">
                                <textarea class="no-newline" id="characterInput" maxlength="100" placeholder="Enter webhook here..." spellcheck="false"></textarea>
                            </div>    
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">This is the webhook you want DM logs to go to.</span> 
                            </div>
                        </div>
                        <div class="settingbox" id="nitro_webhook_url">
                            <span>Nitro Webhook</span>
                            <div class="character-count-container">
                                <textarea class="no-newline" id="characterInput" maxlength="100" placeholder="Enter webhook here..." spellcheck="false"></textarea>
                            </div>    
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">This is the webhook you want nitro sniping logs to go to.</span> 
                            </div>
                        </div>
                        <div class="settingbox" id="giveaway_webhook_url">
                            <span>Giveaway Webhook</span>
                            <div class="character-count-container">
                                <textarea class="no-newline" id="characterInput" maxlength="100" placeholder="Enter webhook here..." spellcheck="false"></textarea>
                            </div>    
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">This is the webhook you want giveaway sniping logs to go to.</span> 
                            </div>
                        </div>
                        <div class="settingbox" id="pinglogger_webhook_url">
                            <span>Ping Logger Webhook</span>
                            <div class="character-count-container">
                                <textarea class="no-newline" id="characterInput" maxlength="100" placeholder="Enter webhook here..." spellcheck="false"></textarea>
                            </div>    
                            <div class="tooltip">
                                <img src="https://falc0n.gay/info.png" alt="Setting Icon" class="setting-icon">
                                <span class="tooltiptext">This is the webhook you want ping logs to go to.</span> 
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.js"></script>
    <script>
        let newthemebeingadded = false;
        function createetheme() {
            document.querySelector('.createthememodal').classList.add('visible');
            document.querySelector('.modalbg').classList.add('visible');
        }

        function closethememodal() {
            document.querySelector('.createthememodal').classList.remove('visible');
            document.querySelector('.modalbg').classList.remove('visible');
            document.getElementById('EmbedmodalInput').style.cssText = "border-color: white;";
            document.getElementById('EmbedmodalInput').placeholder = "Embed Theme Name Here...";
        }

        function createnewetheme() {
            let name = document.getElementById('EmbedmodalInput').value;
            let dropdown = document.getElementById('EThemeDropdown');
            if (name === "") {
                document.getElementById('EmbedmodalInput').style.cssText = "border-color: red;";
                document.getElementById('EmbedmodalInput').placeholder = "Name cannot be empty...";
                return;
            } else {
                pywebview.api.createnewetheme(name).then(() => {
                    localStorage.setItem('lastSelectedETheme', name);
                    const option = document.createElement('option');
                    option.value = name;
                    option.textContent = name.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#39;');
                    dropdown.appendChild(option);
                    dropdown.value = name;
                    closethememodal();
                    pywebview.api.sendnotif("Created Embed Theme: " + name);
                });
            };
            pywebview.api.setethemers(name);
            document.getElementById('EmbedmodalInput').value = "";
        }

        function saveetheme() {
            let name = document.getElementById('EThemeDropdown').value;
            let color = pickr.getSelectedColor().toHEXA().toString();
            let Embedtitleurl = document.getElementById('EmbedTitleUrl').querySelector('#EmbedPreviewInput').value;
            let Embedcmdurl = document.getElementById('EmbedCMDUrl').querySelector('#EmbedPreviewInput').value;
            let image = document.getElementById('EmbedImage').querySelector('#EmbedPreviewInput').value;
            pywebview.api.saveethemers(name, color, image, Embedtitleurl, Embedcmdurl);
            pywebview.api.sendnotif("Saved Embed Theme: " + name);
        }

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById("EmbedImage").querySelector(".character-count-container textarea").addEventListener('blur', updootembedimagee);
            const EMBEDCMDURL = document.getElementById('EMBEDCMDURL');
            const EMBEDTITLEURL = document.getElementById('EMBEDTITLEURL');

            EMBEDCMDURL.addEventListener('click', function(e) {
                let value = document.getElementById('EmbedCMDUrl').querySelector('#EmbedPreviewInput').value;
                if (value === "") {
                    return;
                };
                pywebview.api.open_link(value);
            });

            EMBEDTITLEURL.addEventListener('click', function(e) {
                let value = document.getElementById('EmbedTitleUrl').querySelector('#EmbedPreviewInput').value;
                if (value === "") {
                    document.getElementById('newembedtextcontainer').style.border
                    return;
                };
                pywebview.api.open_link(value);
            });
        });

        const borderLeftColorInput = document.getElementById('border-left-color-input');
        const embedElement = document.querySelector('.embedpreview');

        function finishedittext(event) {
            const data = event.target.closest('.settingbox').id;
            let updatedText = event.target.value;

            // Initialize updatedText based on the condition
            updatedText = data === "giveaway_delay" ? Number(updatedText) : updatedText;

            config_edit(data, updatedText);
        }

        function updootembedimagee(event) {
            const data = event.target.closest('.settingbox').id;
            let updatedText = event.target.value;
            document.getElementById("EMBEDIMGURL").src = updatedText;
        }

        document.querySelectorAll('.no-newline').forEach(textarea => {
            textarea.addEventListener('blur', finishedittext);
        });

        document.querySelectorAll('.no-newline-embed').forEach(textarea => {
            textarea.addEventListener('keydown', function(event) {
                // Check if the Enter key is pressed
                if (event.key === 'Enter' || event.keyCode === 13) {
                    // Prevent the default action (inserting a newline)
                    event.preventDefault();
                }
            });
        });

        document.querySelectorAll('.no-newline').forEach(textarea => {
            textarea.addEventListener('keydown', function(event) {
                // Check if the Enter key is pressed
                if (event.key === 'Enter' || event.keyCode === 13) {
                    // Prevent the default action (inserting a newline)
                    event.preventDefault();
                }
            });
        });
    
        let themes = [];
        let apiReady = false;

        function initializeApi() {
            return new Promise((resolve) => {
                const interval = setInterval(() => {
                    if (typeof pywebview !== 'undefined' && pywebview.api) {
                        clearInterval(interval);
                        resolve();
                    }
                }, 100);
            });
        }

        async function updateThemeDropdown() {
            await initializeApi();

            if (!themes.length) {
                try {
                    const fetchedThemes = await pywebview.api.get_file_names();
                    themes = fetchedThemes;
                    populateDropdown(document.getElementById('CThemeDropdown'));
                } catch (error) {
                    console.error('Error fetching themes:', error);
                }
            }
        }

        function populateDropdown(dropdown) {
            dropdown.innerHTML = '';

            const cheddertronOption = document.createElement('option');
            cheddertronOption.value = '';
            cheddertronOption.textContent = 'Cheddlatron';
            dropdown.appendChild(cheddertronOption);

            themes.forEach(theme => {
                const option = document.createElement('option');
                option.value = theme;
                option.textContent = theme.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#39;');
                dropdown.appendChild(option);
            });

            const lastSelectedTheme = localStorage.getItem('lastSelectedTheme') || '';
            dropdown.value = lastSelectedTheme;
        }

        function handleDropdownChange(event) {
            const selectedTheme = event.target.value;
            
            if (selectedTheme === '') {
                localStorage.setItem('lastSelectedTheme', selectedTheme);
                config_edit('theme', '');
            } else {
                localStorage.setItem('lastSelectedTheme', selectedTheme);
                config_edit('theme', selectedTheme);
            }
            pywebview.api.terminal_ui();
            event.target.style.display = 'none';
            event.target.offsetHeight;
            event.target.style.display = '';
        }

        document.addEventListener('DOMContentLoaded', () => {
            initializeApi().then(() => {
                updateThemeDropdown();
                
                const dropdown = document.getElementById('CThemeDropdown');
                dropdown.addEventListener('click', async function() {
                    try {
                        const newThemes = await pywebview.api.get_file_names();
                        themes = newThemes;
                        populateDropdown(this);
                    } catch (error) {
                        console.error('Error fetching themes:', error);
                    }
                });

                dropdown.addEventListener('change', handleDropdownChange);
            });
        });

        async function updateEThemeDropdown() {
            await initializeApi();

            const dropdown = document.getElementById('EThemeDropdown');
            populateEThemeDropdown(dropdown);
        }

        function populateEThemeDropdown(dropdown) {
            dropdown.innerHTML = '';

            const cheddertronOption = document.createElement('option');
            pywebview.api.get_etheme_names().then(ethemes => {
                ethemes.forEach(theme => {
                    const option = document.createElement('option');
                    option.value = theme;
                    option.textContent = theme.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#39;');
                    dropdown.appendChild(option);
                });
                const lastSelectedTheme = localStorage.getItem('lastSelectedETheme') || '';
                dropdown.value = lastSelectedTheme;
            });
        }

        function setactive() {
            const dropdown = document.getElementById('EThemeDropdown');
            const selectedTheme = dropdown.value;
            config_edit('etheme', selectedTheme);
            pywebview.api.sendnotif("Set Active Embed Theme To: " + selectedTheme);
        };

        async function handleEThemeChange(event) {
            pywebview.api.setethemers(this.value);
        };

        document.addEventListener('DOMContentLoaded', () => {
            initializeApi().then(() => {
                pywebview.api.initialethemers();
                const dropdown = document.getElementById('EThemeDropdown');
                populateEThemeDropdown(dropdown);
                dropdown.addEventListener('change', handleEThemeChange);
            });
        });

        function settoggle(element, bool) {
            element.checked = Boolean(bool)
        }

        function showDropdown(element) {
            element.classList.toggle('open');
        }

        function closeDropdown(element) {
            element.classList.remove('open');
        }

        document.getElementById('DeviceDropdown').addEventListener('click', function(event) {
            event.stopPropagation();
        });

        document.getElementById('CThemeDropdown').addEventListener('click', function(event) {
            event.stopPropagation();
        });

        document.getElementById('EmbedDropdown').addEventListener('click', function(event) {
            event.stopPropagation();
        });

        document.querySelectorAll('.setting-icon').forEach(icon => {
            icon.addEventListener('click', function() {
                const dropdown = this.nextElementSibling;
                showDropdown(dropdown);
            });
        });

        document.addEventListener('click', function(event) {
            if (!event.target.closest('.settingbox')) {
                document.querySelectorAll('.settingbox select').forEach(select => {
                    closeDropdown(select.closest('.settingbox'));
                });
            }
        });

        function adjustDisplayPosition() {
            var sidebarWidth = document.querySelector('.sidebar').offsetWidth;
            var display = document.querySelector('.display');
            var leftPosition = sidebarWidth + 10;
            var displayWidth = window.innerWidth - leftPosition - 10;
            display.style.left = leftPosition + 'px';
            display.style.width = displayWidth + 'px';
            display.style.top = '10px';
            display.style.bottom = '10px';
        }

        function toggleSettings(contentId, liElement) {
            var contents = document.querySelectorAll('.settingcontent');
            var sidebarItems = document.querySelectorAll('.settingbar li');
            contents.forEach(function(content) {
                content.classList.remove('show');
            });
            sidebarItems.forEach(function(item) {
                item.classList.remove('selected');
            });
            document.getElementById(contentId).classList.add('show');
            liElement.classList.add('selected');
        }

        function toggleContent(contentId, liElement) {
            var contents = document.querySelectorAll('.content');
            var sidebarItems = document.querySelectorAll('.sidebar li');
            contents.forEach(function(content) {
                content.classList.remove('show');
            });
            sidebarItems.forEach(function(item) {
                item.classList.remove('selected');
            });
            document.getElementById(contentId).classList.add('show');
            liElement.classList.add('selected');
        }

        function switchtoggled(element, data) {
            const isChecked = element.checked;
            if (isChecked) {
                config_edit(data, true)
            }
            else {
                config_edit(data, false)
            }
        }

        const closeWindow = () => pywebview.api.close_window();
        const minimizeWindow = () => pywebview.api.minimize_window();
        const fullscreenWindow = () => pywebview.api.fullscreen_window();
        const config_edit = (data, new_value) => pywebview.api.configedit(data, new_value);
        const config_get = (data) => pywebview.api.configget(data);


        function resizeBadgeBox() {
            let totalBadgeWidth = 0;
            const images = document.getElementById('badgebox').getElementsByTagName('img');
            for (let img of images) {
                totalBadgeWidth += img.offsetWidth;
            }
            document.getElementById('badgebox').style.width = `${totalBadgeWidth + 2.5}px`;
        }

        function updateBadges(badges) {
            var badgebox = document.getElementById('badgebox');
            badgebox.innerHTML = '';
            if (badges.length > 0) {
                badges.forEach(function(badge) {
                    var img = document.createElement('img');
                    img.src = badge;
                    badgebox.appendChild(img);
                });

                let totalBadgeWidth = 0;
                const images = badgebox.getElementsByTagName('img');
                for (let img of images) {
                    totalBadgeWidth += img.offsetWidth;
                }
                badgebox.style.display = 'inline-flex';
                badgebox.style.width = `${totalBadgeWidth+2.5}px`;} 
            else {
                badgebox.style.display = 'none';
            };
        };
        
        function fetchBadges() {
            const startTime = performance.now();
            window.pywebview.api.get_badges().then(function(badges) {
                updateBadges(badges);});}
        window.addEventListener('resize', adjustDisplayPosition);
        window.addEventListener('resize', adjustDisplayPosition);
        var biotext = "";
        biotext = biotext.replace(/\n/g, '<br>');
        
        function updateProgressBars(friendValue, guildValue) {
            const maxFriendValue = parseInt(document.getElementById('friendbar').getAttribute('aria-valuemax'));
            const maxGuildValue = parseInt(document.getElementById('guildbar').getAttribute('aria-valuemax'));
            const scaledFriendValue = Math.round((friendValue / maxFriendValue) * 100);
            const scaledGuildValue = Math.round((guildValue / maxGuildValue) * 100);
            document.getElementById('friendbar').style.setProperty('--value', scaledFriendValue);
            document.getElementById('guildbar').style.setProperty('--value', scaledGuildValue);
        }

        function print(message) {
            try {
                function escapeHtml(unsafe) {
                    return unsafe.replace(/[&<"']/g, function(m) {
                        switch (m) {
                            case '&':
                                return '&amp;';
                            case '<':
                                return '&lt;';
                            case '>':
                                return '&gt;';
                            case '"':
                                return '&quot;';
                            case "'":
                                return '&#039;';
                            default:
                                return m;
                        }
                    });
                }

                const ansiColorMap = {
                    '30': 'color: black',
                    '31': 'color: red',
                    '32': 'color: green',
                    '33': 'color: yellow',
                    '34': 'color: blue',
                    '35': 'color: magenta',
                    '36': 'color: cyan',
                    '37': 'color: white',
                    '90': 'color: rgb(83, 84, 81)',    // Bright black (grey)
                    '91': 'color: rgb(247, 84, 81)',   // Bright red
                    '92': 'color: rgb(82, 255, 81)',   // Bright green
                    '93': 'color: rgb(248, 255, 82)',  // Bright yellow
                    '94': 'color: rgb(81, 84, 245)',   // Bright blue
                    '95': 'color: rgb(239, 84, 254)',  // Bright magenta
                    '96': 'color: rgb(84, 255, 237)',  // Bright cyan
                    '97': 'color: white',
                    '40': 'background-color: black',
                    '41': 'background-color: red',
                    '42': 'background-color: green',
                    '43': 'background-color: yellow',
                    '44': 'background-color: blue',
                    '45': 'background-color: magenta',
                    '46': 'background-color: cyan',
                    '47': 'background-color: white',
                    '100': 'background-color: rgb(128, 128, 128)',   // Bright black background
                    '101': 'background-color: rgb(255, 102, 102)',   // Bright red background
                    '102': 'background-color: rgb(144, 238, 144)',   // Bright green background
                    '103': 'background-color: rgb(255, 255, 102)',   // Bright yellow background
                    '104': 'background-color: rgb(102, 178, 255)',   // Bright blue background
                    '105': 'background-color: rgb(255, 140, 210)',   // Bright magenta background
                    '106': 'background-color: rgb(102, 255, 255)',   // Bright cyan background
                    '107': 'background-color: white',
                    '1': 'font-weight: bold',                       // Bold
                    '2': 'filter: brightness(50%)',                 // Dim
                    '22': 'font-weight: normal',                    // Reset bold
                    '39': 'color: inherit',                         // Reset foreground color
                    '49': 'background-color: inherit'               // Reset background color
                };

                function parseAnsiColors(text) {
                    return text.replace(/\x1b\[(\d{1,2}(;\d{1,2})*)m/g, (match, codes) => {
                        const styles = codes.split(';').map(code => ansiColorMap[code] || '').filter(Boolean).join('; ');
                        return styles ? `</span><span style="${styles};">` : '</span>';
                    });
                }

                function parseHexColors(text) {
                    return text.replace(/\{#([A-Fa-f0-9]{6})\}/g, (match, hexCode) => {
                        return `</span><span style="color: #${hexCode}; background-color: transparent;">`;
                    }).replace(/\}/g, '</span>'); // Close span when '}' is found
                }

                let processedMessage = escapeHtml(message);

                processedMessage = parseAnsiColors(processedMessage);

                processedMessage = parseHexColors(processedMessage);

                const regex = /\[(.*?)\]\((https?:\/\/|discord:\/\/)(.*?)\)/g;
                let match;
                let prevEndIndex = 0;

                let finalMessage = '';
                while ((match = regex.exec(processedMessage)) !== null) {
                    const start = match.index;
                    const end = start + match[0].length;
                    const linkText = match[1];
                    const url = match[2] + match[3];
                    const replacement = `<button style="color: rgb(255, 84, 81); background-color: transparent; border: none; cursor: pointer; font-family: 'Consolas', sans-serif; font-weight: lighter; font-size: 16px;" onclick="pywebview.api.open_link('${url}')">${linkText}</button>`;

                    finalMessage += processedMessage.slice(prevEndIndex, start) + replacement;
                    prevEndIndex = end;
                }

                finalMessage += processedMessage.slice(prevEndIndex);

                const consoleElement = document.getElementById('app-console');

                consoleElement.insertAdjacentHTML('beforeend', `<div class="console-message">${finalMessage}</div>`);

                consoleElement.scrollTop = consoleElement.scrollHeight;
                

            } catch (error) {
                console.error('Error processing message:', error);
                console.error('Original message:', message);
            }
        }

        function printCenter(message) {
            message = message.replace(/\n/g, '<br>');
            const ansiColorMap = {
                    '30': 'color: black',
                    '31': 'color: red',
                    '32': 'color: green',
                    '33': 'color: yellow',
                    '34': 'color: blue',
                    '35': 'color: magenta',
                    '36': 'color: cyan',
                    '37': 'color: white',
                    '90': 'color: rgb(83, 84, 81)',    // Bright black (grey)
                    '91': 'color: rgb(247, 84, 81)',   // Bright red
                    '92': 'color: rgb(82, 255, 81)',   // Bright green
                    '93': 'color: rgb(248, 255, 82)',  // Bright yellow
                    '94': 'color: rgb(81, 84, 245)',   // Bright blue
                    '95': 'color: rgb(239, 84, 254)',  // Bright magenta
                    '96': 'color: rgb(84, 255, 237)',  // Bright cyan
                    '97': 'color: white',
                    '40': 'background-color: black',
                    '41': 'background-color: red',
                    '42': 'background-color: green',
                    '43': 'background-color: yellow',
                    '44': 'background-color: blue',
                    '45': 'background-color: magenta',
                    '46': 'background-color: cyan',
                    '47': 'background-color: white',
                    '100': 'background-color: rgb(128, 128, 128)',   // Bright black background
                    '101': 'background-color: rgb(255, 102, 102)',   // Bright red background
                    '102': 'background-color: rgb(144, 238, 144)',   // Bright green background
                    '103': 'background-color: rgb(255, 255, 102)',   // Bright yellow background
                    '104': 'background-color: rgb(102, 178, 255)',   // Bright blue background
                    '105': 'background-color: rgb(255, 140, 210)',   // Bright magenta background
                    '106': 'background-color: rgb(102, 255, 255)',   // Bright cyan background
                    '107': 'background-color: white',
                    '1': 'font-weight: bold',                       // Bold
                    '2': 'filter: brightness(50%)',                 // Dim
                    '22': 'font-weight: normal',                    // Reset bold
                    '39': 'color: inherit',                         // Reset foreground color
                    '49': 'background-color: inherit'               // Reset background color
                };
            function parseAnsiColors(text) {
                    return text.replace(/\x1b\[(\d{1,2}(;\d{1,2})*)m/g, (match, codes) => {
                        const styles = codes.split(';').map(code => ansiColorMap[code] || '').filter(Boolean).join('; ');
                        return styles ? `</span><span style="${styles};">` : '</span>';
                    });
                }
            const consoleElement = document.getElementById('app-console');
            const coloredMessage = parseAnsiColors(message);
            const lineElement = document.createElement('div');
            lineElement.classList.add('line');
            lineElement.innerHTML = coloredMessage;
            consoleElement.appendChild(lineElement);
            consoleElement.scrollTop = consoleElement.scrollHeight;
        }

        function cls() {
            const consoleElement = document.getElementById('app-console');
            consoleElement.innerHTML = '';
        }

        function printmax(character) {
            const consoleElement = document.getElementById('app-console');
            const consoleWidth = consoleElement.clientWidth;
            const charWidth = 10;
            const repeatCount = Math.floor(consoleWidth / charWidth);
            const line = character.repeat(repeatCount);
            print(line);
        }

    </script>
    <script>
        const pickr = Pickr.create({
            el: '.color-picker',
            theme: 'nano',
              components: {
                hue: true,
                interaction: {
                    hex: false,
                    input: true,
                },
                background: '#13171B'
            }
        });
        function setColor(hexColor) {
            hexColor = hexColor.startsWith('#') ? hexColor.slice(1) : hexColor;
            if (!/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(hexColor)) {
                console.error('Invalid hex color:', hexColor);
                return;
            }
            pickr.setColor(`#${hexColor}`);
            embedElement.style.borderLeftColor = `#${hexColor}`;
            pickr.applyColor();
        }

        pickr.on('change', (color) => {pickr.applyColor(color);});
        pickr.on('change', (color) => {
            embedElement.style.borderLeftColor = color.toHEXA().toString();
        });
    </script>
</body>
</html>
